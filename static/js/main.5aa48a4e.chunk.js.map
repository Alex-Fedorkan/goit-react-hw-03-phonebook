{"version":3,"sources":["context/ContactsContext.js","components/ContactForm/ContactForm.js","components/ContactList/ContactItem/ContactItem.js","components/ContactList/ContactList.js","components/Filter/Filter.js","App.js","index.js"],"names":["createContext","ContactForm","handleFormSubmit","initialValues","name","number","validationSchema","Yup","required","matches","onSubmit","autoComplete","htmlFor","type","ContactItem","id","ContactsContext","Consumer","deleteContact","onClick","ContactList","contacts","map","Filter","value","handleInputChange","onChange","App","state","filter","contactId","setState","prevState","contact","addNewContact","setSubmitting","resetForm","find","toLowerCase","alert","uuidv4","handleFindInputChange","event","currentTarget","getVisibleContacts","includes","parsedContacts","JSON","parse","localStorage","getItem","this","prevProps","setItem","stringify","Provider","className","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5aa48a4e.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nexport default createContext();\n","import { Formik, Field, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport PropTypes from 'prop-types';\n\nconst ContactForm = ({ handleFormSubmit }) => {\n  const phoneRegExp = /^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/;\n\n  return (\n    <Formik\n      initialValues={{ name: '', number: '' }}\n      validationSchema={Yup.object({\n        name: Yup.string().required('Required'),\n        number: Yup.string()\n          .matches(phoneRegExp, 'Phone number is not valid')\n          .required('Required'),\n      })}\n      onSubmit={handleFormSubmit}\n    >\n      <Form autoComplete=\"off\">\n        <label htmlFor=\"name\">Name</label>\n        <Field name=\"name\" type=\"text\" />\n        <ErrorMessage name=\"name\" />\n        <label htmlFor=\"number\">Number</label>\n        <Field name=\"number\" type=\"text\" />\n        <ErrorMessage name=\"number\" />\n        <button type=\"submit\">Add contact</button>\n      </Form>\n    </Formik>\n  );\n};\n\nContactForm.propTypes = {\n  handleFormSubmit: PropTypes.func.isRequired,\n};\n\nexport default ContactForm;\n","import PropTypes from 'prop-types';\nimport ContactsContext from '../../../context/ContactsContext';\n\nconst ContactItem = ({ id, name, number }) => {\n  return (\n    <li>\n      {name}: {number}\n      <ContactsContext.Consumer>\n        {({ deleteContact }) => (\n          <button type=\"button\" onClick={() => deleteContact(id)}>\n            Delete\n          </button>\n        )}\n      </ContactsContext.Consumer>\n    </li>\n  );\n};\n\nContactItem.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  number: PropTypes.string.isRequired,\n};\n\nexport default ContactItem;\n","import PropTypes from 'prop-types';\nimport ContactItem from './ContactItem/ContactItem';\n\nconst ContactList = ({ contacts }) => {\n  return (\n    <ul>\n      {contacts.map(({ id, name, number }) => (\n        <ContactItem key={id} id={id} name={name} number={number} />\n      ))}\n    </ul>\n  );\n};\n\nContactList.propTypes = {\n  contacts: PropTypes.arrayOf(\n    PropTypes.shape({ id: PropTypes.string.isRequired }),\n  ).isRequired,\n};\n\nexport default ContactList;\n","import PropTypes from 'prop-types';\n\nconst Filter = ({ value, handleInputChange }) => {\n  return (\n    <label>\n      Find contacts by name\n      <input type=\"text\" value={value} onChange={handleInputChange} />\n    </label>\n  );\n};\n\nFilter.propTypes = {\n  value: PropTypes.string,\n  handleInputChange: PropTypes.func.isRequired,\n};\n\nexport default Filter;\n","import React, { Component } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport './App.css';\nimport ContactsContext from './context/ContactsContext';\nimport ContactForm from './components/ContactForm/ContactForm';\nimport ContactList from './components/ContactList/ContactList';\nimport Filter from './components/Filter/Filter';\n\nclass App extends Component {\n  state = {\n    contacts: [],\n    filter: '',\n    deleteContact: contactId => {\n      this.setState(prevState => ({\n        contacts: prevState.contacts.filter(\n          contact => contact.id !== contactId,\n        ),\n      }));\n    },\n  };\n\n  componentDidMount() {\n    const parsedContacts = JSON.parse(localStorage.getItem('contacts'));\n\n    if (parsedContacts) {\n      this.setState({ contacts: parsedContacts });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.contacts !== prevState.contacts) {\n      localStorage.setItem('contacts', JSON.stringify(this.state.contacts));\n    }\n  }\n\n  addNewContact = ({ name, number }, { setSubmitting, resetForm }) => {\n    if (\n      this.state.contacts.find(\n        contact => contact.name.toLowerCase() === name.toLowerCase(),\n      )\n    ) {\n      alert(`${name} is already in contacts.`);\n      resetForm({ name, number });\n      setSubmitting(false);\n      return;\n    }\n\n    this.setState(prevState => {\n      const contacts = [...prevState.contacts, { id: uuidv4(), name, number }];\n\n      return { ...prevState, contacts };\n    });\n\n    resetForm({ name, number });\n    setSubmitting(false);\n  };\n\n  handleFindInputChange = event => {\n    this.setState({ filter: event.currentTarget.value });\n  };\n\n  getVisibleContacts = () => {\n    const { filter, contacts } = this.state;\n\n    return contacts.filter(contact =>\n      contact.name.toLowerCase().includes(filter.toLowerCase()),\n    );\n  };\n\n  render() {\n    return (\n      <ContactsContext.Provider value={this.state}>\n        <div className=\"App\">\n          <h1>Phonebook</h1>\n          <ContactForm handleFormSubmit={this.addNewContact} />\n          <h2>Contacts</h2>\n          <Filter\n            value={this.filter}\n            handleInputChange={this.handleFindInputChange}\n          />\n          <ContactList contacts={this.getVisibleContacts()} />\n        </div>\n      </ContactsContext.Provider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}